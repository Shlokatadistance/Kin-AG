var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _objectSpread2=_interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));var _RCTPropTypes=_interopRequireDefault(require("./RCTPropTypes"));var _ColorArrayFromHexARGB=_interopRequireDefault(require("./../utils/ColorArrayFromHexARGB"));function eventSetter(propName){return function(view,bound){if(bound){view[propName]=function(json){var mutableEvent=(0,_objectSpread2.default)({},json);mutableEvent.target=view.reactTag;view.bridge.eventDispatcher.sendInputEvent(propName,mutableEvent);};}else{view[propName]=undefined;}};}var RCTPropDescription=function(){function RCTPropDescription(){(0,_classCallCheck2.default)(this,RCTPropDescription);this.viewProps=[];this.shadowProps=[];}(0,_createClass2.default)(RCTPropDescription,[{key:"addShadowProp",value:function addShadowProp(name){this.shadowProps.push({name:name,type:_RCTPropTypes.default.string,setter:function setter(view,value){view[name]=value;},nativeOnly:false});return this;}},{key:"addProp",value:function addProp(name,type,setter,nativeOnly){this.viewProps.push({name:name,type:type,setter:setter,nativeOnly:nativeOnly});return this;}},{key:"addMirroredProp",value:function addMirroredProp(name,type,setter){var nativeOnly=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return this.addProp(name,type,setter,nativeOnly).addShadowProp(name);}},{key:"addNumberProp",value:function addNumberProp(name,setter){var nativeOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return this.addProp(name,_RCTPropTypes.default.number,setter,nativeOnly);}},{key:"addStringProp",value:function addStringProp(name,setter){var nativeOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return this.addProp(name,_RCTPropTypes.default.string,setter,nativeOnly);}},{key:"addBooleanProp",value:function addBooleanProp(name,setter){var nativeOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return this.addProp(name,_RCTPropTypes.default.bool,setter,nativeOnly);}},{key:"addArrayProp",value:function addArrayProp(name,setter){var nativeOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return this.addProp(name,_RCTPropTypes.default.array,setter,nativeOnly);}},{key:"addColorProp",value:function addColorProp(name,setter){var nativeOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var betterSetter=function betterSetter(view,value){if(typeof value==="number"){var _ColorArrayFromHexARG=(0,_ColorArrayFromHexARGB.default)(value),_ColorArrayFromHexARG2=(0,_slicedToArray2.default)(_ColorArrayFromHexARG,4),a=_ColorArrayFromHexARG2[0],r=_ColorArrayFromHexARG2[1],g=_ColorArrayFromHexARG2[2],b=_ColorArrayFromHexARG2[3];var stringValue="rgba("+r+","+g+","+b+","+a+")";setter(view,stringValue);}else{setter(view,value);}};return this.addProp(name,_RCTPropTypes.default.array,betterSetter,nativeOnly);}},{key:"addObjectProp",value:function addObjectProp(name,setter){var nativeOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return this.addProp(name,_RCTPropTypes.default.object,setter,nativeOnly);}},{key:"addDirectShadowEvent",value:function addDirectShadowEvent(name){var setter=eventSetter(name);this.shadowProps.push({name:name,type:_RCTPropTypes.default.directEvent,setter:setter,nativeOnly:false});return this;}},{key:"addDirectEvent",value:function addDirectEvent(name){var nativeOnly=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var setter=eventSetter(name);return this.addProp(name,_RCTPropTypes.default.directEvent,setter,nativeOnly);}},{key:"addBubblingEvent",value:function addBubblingEvent(name){var nativeOnly=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var setter=eventSetter(name);return this.addProp(name,_RCTPropTypes.default.bubblingEvent,setter,nativeOnly);}}]);return RCTPropDescription;}();var _default=RCTPropDescription;exports.default=_default;
//# sourceMappingURL=RCTPropDescription.js.map