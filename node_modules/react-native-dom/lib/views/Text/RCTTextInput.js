var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _get2=_interopRequireDefault(require("@babel/runtime/helpers/get"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _set2=_interopRequireDefault(require("@babel/runtime/helpers/set"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _RCTEventDispatcher=require("./../../bridge/RCTEventDispatcher");var _RCTView2=_interopRequireDefault(require("./../RCTView"));var _RCTSharedTextValues=require("./RCTSharedTextValues");var RCTTextInput=function(_RCTView){(0,_inherits2.default)(RCTTextInput,_RCTView);function RCTTextInput(bridge){var _this;(0,_classCallCheck2.default)(this,RCTTextInput);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(RCTTextInput).call(this,bridge));_this.nativeEventCount=0;_this.isFocused=false;_this.blurOnSubmit=true;_this.handleFocus=function(){_this.eventDispatcher.sendTextEvent(_RCTEventDispatcher.RCTTextEventType.RCTTextEventTypeFocus,_this.reactTag,_this.inputElement.value,null,_this.nativeEventCount);};_this.handleBlur=function(){_this.eventDispatcher.sendTextEvent(_RCTEventDispatcher.RCTTextEventType.RCTTextEventTypeEnd,_this.reactTag,_this.inputElement.value,null,_this.nativeEventCount);_this.eventDispatcher.sendTextEvent(_RCTEventDispatcher.RCTTextEventType.RCTTextEventTypeBlur,_this.reactTag,_this.inputElement.value,null,_this.nativeEventCount);};_this.handleChange=function(){_this.nativeEventCount++;if(_this.onChange){_this.onChange({text:_this.inputElement.value,target:_this.reactTag,eventCount:_this.nativeEventCount});}};_this.handleSubmit=function(event){event.preventDefault();if(event.keyCode===13){_this.eventDispatcher.sendTextEvent(_RCTEventDispatcher.RCTTextEventType.RCTTextEventTypeSubmit,_this.reactTag,_this.inputElement.value,null,_this.nativeEventCount);if(_this.blurOnSubmit){_this.blur();}}};_this.eventDispatcher=bridge.getModuleByName("EventDispatcher");_this.inputElement=document.createElement("input");_this.inputElement.type="text";_this.inputElement.addEventListener("focus",_this.handleFocus);_this.inputElement.addEventListener("blur",_this.handleBlur);_this.inputElement.addEventListener("input",_this.handleChange);(0,_extends2.default)(_this.inputElement.style,{fontFamily:_RCTSharedTextValues.defaultFontStack,fontSize:_RCTSharedTextValues.defaultFontSize+"px",backgroundColor:"transparent",border:"0px solid"});var shadowRoot=_this.attachShadow({mode:"open"});shadowRoot.appendChild(_this.inputElement);shadowRoot.appendChild(document.createElement("slot"));return _this;}(0,_createClass2.default)(RCTTextInput,[{key:"focus",value:function focus(){this.inputElement.addEventListener("keyup",this.handleSubmit);this.inputElement.focus();}},{key:"blur",value:function blur(){this.inputElement.removeEventListener("keyup",this.handleSubmit);this.inputElement.blur();}},{key:"borderRadius",set:function set(value){(0,_set2.default)((0,_getPrototypeOf2.default)(RCTTextInput.prototype),"borderRadius",value,this,true);this.inputElement.style.borderRadius=value+"px";}},{key:"frame",get:function get(){return(0,_get2.default)((0,_getPrototypeOf2.default)(RCTTextInput.prototype),"frame",this);},set:function set(value){(0,_set2.default)((0,_getPrototypeOf2.default)(RCTTextInput.prototype),"frame",value,this,true);(0,_extends2.default)(this.inputElement.style,{top:value.top+"px",left:value.left+"px",width:value.width+"px",height:value.height+"px"});}},{key:"padding",set:function set(value){this.inputElement.style.padding=value+"px";}},{key:"paddingLeft",set:function set(value){this.inputElement.style.paddingLeft=value+"px";}},{key:"paddingRight",set:function set(value){this.inputElement.style.paddingRight=value+"px";}},{key:"paddingTop",set:function set(value){this.inputElement.style.paddingTop=value+"px";}},{key:"paddingBottom",set:function set(value){this.inputElement.style.paddingBottom=value+"px";}},{key:"paddingVertical",set:function set(value){this.paddingTop=value;this.paddingBottom=value;}},{key:"paddingHorizontal",set:function set(value){this.paddingLeft=value;this.paddingRight=value;}},{key:"fontFamily",set:function set(value){this.style.fontFamily=value;}},{key:"fontSize",set:function set(value){this.style.fontSize=value;}},{key:"textAlign",set:function set(value){this.style.textAlign=value;}},{key:"fontWeight",set:function set(value){this.style.fontWeight=value;}}]);return RCTTextInput;}(_RCTView2.default);customElements.define("rct-text-input",RCTTextInput);var _default=RCTTextInput;exports.default=_default;
//# sourceMappingURL=RCTTextInput.js.map