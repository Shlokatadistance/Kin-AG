var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _get2=_interopRequireDefault(require("@babel/runtime/helpers/get"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _set2=_interopRequireDefault(require("@babel/runtime/helpers/set"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _tinycolor=_interopRequireDefault(require("tinycolor2"));var _RCTView2=_interopRequireDefault(require("./../RCTView"));var _RCTRawText=_interopRequireDefault(require("./RCTRawText"));var _RCTSharedTextValues=require("./RCTSharedTextValues");var _ColorArrayFromHexARGB=_interopRequireDefault(require("./../../utils/ColorArrayFromHexARGB"));(function(){var styleElement=document.createElement("style");styleElement.innerHTML="\n    body, html {\n      font-family: "+_RCTSharedTextValues.defaults.fontFamily+";\n      font-size: "+_RCTSharedTextValues.defaults.fontSize+";\n      line-height: "+_RCTSharedTextValues.defaults.lineHeight+";\n      font-weight: "+_RCTSharedTextValues.defaults.fontWeight+";\n      letter-spacing: "+_RCTSharedTextValues.defaults.letterSpacing+";\n    }\n  ";document.head&&document.head.appendChild(styleElement);})();var RCTText=function(_RCTView){(0,_inherits2.default)(RCTText,_RCTView);function RCTText(bridge){var _this;(0,_classCallCheck2.default)(this,RCTText);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(RCTText).call(this,bridge));_this.pointerEvents="auto";_this.updateHostStyle({position:"static",display:"inline",contain:"none",opacity:"1.0",whiteSpace:"pre-wrap",boxDecorationBreak:"clone"});_this.updateChildContainerStyle({display:"inline",contain:"none",position:"static",width:"100%"});_this.isHighlighted=null;_this.disabled=true;_this.fontFamily=null;_this.fontSize=null;_this.lineHeight=null;_this.textDecorationColor=null;_this.textDecorationLine=null;_this.textDecorationStyle=null;return _this;}(0,_createClass2.default)(RCTText,[{key:"updatePointerEvents",value:function updatePointerEvents(){this.pointerEvents=(this._selectable||this._touchable)&&!this._disabled?"auto":"box-none";}},{key:"updateDerivedTouchable",value:function updateDerivedTouchable(){this._touchable=(this._isHighlighted!=null||this._selectable)&&!this._disabled;this.updateDerivedPointerEvents();}},{key:"backgroundColor",set:function set(value){(0,_set2.default)((0,_getPrototypeOf2.default)(RCTText.prototype),"backgroundColor",value,this,true);var color=(0,_tinycolor.default)(value);if(color.getAlpha()<0.3){color.setAlpha(0.3);}color.darken();this._highlightedBackgroundColor=color.toRgbString();}},{key:"color",set:function set(value){if(typeof value==="number"){var _ColorArrayFromHexARG=(0,_ColorArrayFromHexARGB.default)(value),_ColorArrayFromHexARG2=(0,_slicedToArray2.default)(_ColorArrayFromHexARG,4),a=_ColorArrayFromHexARG2[0],r=_ColorArrayFromHexARG2[1],g=_ColorArrayFromHexARG2[2],b=_ColorArrayFromHexARG2[3];var stringValue="rgba("+r+","+g+","+b+","+a+")";this.style.color=stringValue;}else{this.style.color=value;}}},{key:"frame",get:function get(){return(0,_get2.default)((0,_getPrototypeOf2.default)(RCTText.prototype),"frame",this);},set:function set(value){(0,_extends2.default)(this,value);this.updateHostStyle({position:"absolute",display:"inline-block"});this.updateChildContainerStyle({display:"inline-block"});}},{key:"accessible",set:function set(value){}},{key:"fontFamily",set:function set(value){value=value?value:"inherit";if(value.indexOf("System")>-1){var stack=value.split(/\s*,\s*/);stack[stack.indexOf("System")]=_RCTSharedTextValues.defaults.fontFamily;value=stack.join(", ");}this.style.fontFamily=value;}},{key:"fontSize",set:function set(value){this.style.fontSize=value?value+"px":"inherit";}},{key:"selectable",get:function get(){return this._selectable;},set:function set(value){this._selectable=value;this.updateHostStyle("userSelect",value?"text":"none");this.updatePointerEvents();this.updateDerivedTouchable();}},{key:"textAlign",set:function set(value){this.style.textAlign=value?value:"inherit";}},{key:"disabled",set:function set(value){this.updatePointerEvents();this.updateDerivedTouchable();}},{key:"isHighlighted",set:function set(value){this._isHighlighted=value;if(value!==null){this.touchable=true;this.updateHostStyle("backgroundImage",value?"linear-gradient(-100deg, rgba(0,0,0,0.2), rgba(0,0,0,0.2))":"");}else{this.touchable=false;}this.updatePointerEvents();this.updateDerivedTouchable();}},{key:"fontWeight",set:function set(value){this.style.fontWeight=value?value:_RCTSharedTextValues.defaults.fontWeight;}},{key:"fontStyle",set:function set(value){this.style.fontStyle=value?value:_RCTSharedTextValues.defaults.fontStyle;}},{key:"letterSpacing",set:function set(value){this.style.letterSpacing=value?value+"px":"inherit";}},{key:"textDecorationLine",set:function set(value){this.updateChildContainerStyle("textDecorationLine",value?value:"none");}},{key:"textDecorationStyle",set:function set(value){this.updateChildContainerStyle("textDecorationStyle",value?value:"solid");}},{key:"textDecorationColor",set:function set(value){if(value!=null){this.updateChildContainerStyle("textDecorationColor",value);}else{this.updateChildContainerStyle("textDecorationColor","currentcolor");}}},{key:"lineHeight",set:function set(value){this.updateHostStyle("lineHeight",value?value+"px":"inherit");}},{key:"numberOfLines",set:function set(value){if(value===1){this.updateHostStyle({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});this.updateChildContainerStyle({overflow:"hidden",textOverflow:"ellipsis"});}else{this.updateHostStyle({overflow:"visible",whiteSpace:"pre-wrap",textOverflow:undefined});this.updateChildContainerStyle({overflow:"visible",textOverflow:undefined});}}}]);return RCTText;}(_RCTView2.default);customElements.define("rct-text",RCTText);var _default=RCTText;exports.default=_default;
//# sourceMappingURL=RCTText.js.map