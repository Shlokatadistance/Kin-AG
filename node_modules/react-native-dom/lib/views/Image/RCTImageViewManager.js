var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _get2=_interopRequireDefault(require("@babel/runtime/helpers/get"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _RCTImageView=_interopRequireDefault(require("./RCTImageView"));var _RCTImageSource=_interopRequireDefault(require("./RCTImageSource"));var _RCTViewManager2=_interopRequireDefault(require("./../RCTViewManager"));var RCTImageViewManager=function(_RCTViewManager){(0,_inherits2.default)(RCTImageViewManager,_RCTViewManager);function RCTImageViewManager(){(0,_classCallCheck2.default)(this,RCTImageViewManager);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(RCTImageViewManager).apply(this,arguments));}(0,_createClass2.default)(RCTImageViewManager,[{key:"view",value:function view(){return new _RCTImageView.default(this.bridge);}},{key:"describeProps",value:function describeProps(){return(0,_get2.default)((0,_getPrototypeOf2.default)(RCTImageViewManager.prototype),"describeProps",this).call(this).addArrayProp("source",this.setImageSources).addStringProp("resizeMode",this.setResizeMode).addNumberProp("blurRadius",this.setBlurRadius).addColorProp("tintColor",this.setTintColor).addDirectEvent("onLoadStart").addDirectEvent("onLoad").addDirectEvent("onLoadEnd").addDirectEvent("onError");}},{key:"setImageSources",value:function setImageSources(view,value){value=value||[];var imageSources=value.map(function(srcJson){var size={width:srcJson.width!=null?srcJson.width:0,height:srcJson.height!=null?srcJson.height:0};var imageSource=new _RCTImageSource.default(srcJson.uri,size,srcJson.scale?srcJson.scale:1);if(srcJson.__packager_asset!=null){imageSource.packagerAsset=srcJson.__packager_asset;}return imageSource;});view.imageSources=imageSources;}},{key:"setResizeMode",value:function setResizeMode(view,value){view.resizeMode=value;}},{key:"setBlurRadius",value:function setBlurRadius(view,value){view.blurRadius=value;}},{key:"setTintColor",value:function setTintColor(view,value){view.tintColor=value;}},{key:"$$prefetchImage",value:function $$prefetchImage(url,resolveId,rejectId){return this.bridge.imageLoader.loadImageWithURLRequest(url);}},{key:"$getSize",value:function $getSize(request,successId,errorId){var success=this.bridge.callbackFromId(successId);var error=this.bridge.callbackFromId(errorId);this.bridge.imageLoader.getImageSizeForURLRequest(request).then(function(size){success(size.width,size.height);}).catch(function(errorMsg){error(errorMsg);});}}]);return RCTImageViewManager;}(_RCTViewManager2.default);RCTImageViewManager.moduleName="RCTImageViewManager";var _default=RCTImageViewManager;exports.default=_default;
//# sourceMappingURL=RCTImageViewManager.js.map