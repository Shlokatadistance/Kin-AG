var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var Yoga=_interopRequireWildcard(require("yoga-dom"));var _NotificationCenter=_interopRequireDefault(require("./../base/NotificationCenter"));var _RCTI18nManager=require("./../modules/RCTI18nManager");var _RCTShadowView2=_interopRequireDefault(require("./RCTShadowView"));var RCTRootShadowView=function(_RCTShadowView){(0,_inherits2.default)(RCTRootShadowView,_RCTShadowView);function RCTRootShadowView(bridge){var _this;(0,_classCallCheck2.default)(this,RCTRootShadowView);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(RCTRootShadowView).call(this,bridge));_this.yogaConfig=new _this.bridge.Yoga.Config();_this.yogaNode.free();_this.yogaNode=_this.bridge.Yoga.Node.createWithConfig(_this.yogaConfig);_this.availableSize={width:Infinity,height:Infinity};var i18nModule=_this.bridge.modulesByName["I18nManager"];_this.direction=i18nModule.direction;_NotificationCenter.default.addListener(_RCTI18nManager.DIRECTION_CHANGE_EVENT,function(_ref){var direction=_ref.direction;_this.direction=direction;});return _this;}(0,_createClass2.default)(RCTRootShadowView,[{key:"updateAvailableSize",value:function updateAvailableSize(size){this.availableSize=size;this.width=size.width;this.height=size.height;}},{key:"updatePointScaleFactor",value:function updatePointScaleFactor(ratio){this.yogaConfig.setPointScaleFactor(ratio);}},{key:"recalculateLayout",value:function recalculateLayout(){var _this$availableSize=this.availableSize,width=_this$availableSize.width,height=_this$availableSize.height;this.yogaNode.calculateLayout(width,height,this.direction);var layoutChanges=this.getLayoutChanges({top:0,left:0});return layoutChanges;}}]);return RCTRootShadowView;}(_RCTShadowView2.default);var _default=RCTRootShadowView;exports.default=_default;
//# sourceMappingURL=RCTRootShadowView.js.map