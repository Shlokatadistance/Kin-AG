var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.DIRECTION_CHANGE_EVENT=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _rtlDetect=_interopRequireDefault(require("rtl-detect"));var _NotificationCenter=_interopRequireDefault(require("./../base/NotificationCenter"));var _RCTModule2=_interopRequireDefault(require("./../bridge/RCTModule"));var DIRECTION_CHANGE_EVENT="RCTDirectionDidChange";exports.DIRECTION_CHANGE_EVENT=DIRECTION_CHANGE_EVENT;var RCTI18nManager=function(_RCTModule){(0,_inherits2.default)(RCTI18nManager,_RCTModule);function RCTI18nManager(bridge){var _this;(0,_classCallCheck2.default)(this,RCTI18nManager);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(RCTI18nManager).call(this,bridge));_this.initialize();return _this;}(0,_createClass2.default)(RCTI18nManager,[{key:"initialize",value:function initialize(){var preferredLanguage=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage;this.isRTL=_rtlDetect.default.isRtlLang(preferredLanguage);this.doLeftAndRightSwapInRTL=true;this.allowRTL=true;this.forceRTL=false;this.emitChange();}},{key:"emitChange",value:function emitChange(){_NotificationCenter.default.emitEvent(DIRECTION_CHANGE_EVENT,[{direction:this.direction}]);}},{key:"$allowRTL",value:function $allowRTL(value){this.allowRTL=value;this.emitChange();}},{key:"$forceRTL",value:function $forceRTL(value){this.forceRTL=value;this.emitChange();}},{key:"$swapLeftAndRightInRTL",value:function $swapLeftAndRightInRTL(value){this.doLeftAndRightSwapInRTL=value;this.emitChange();}},{key:"constantsToExport",value:function constantsToExport(){return{isRTL:this.resolvedIsRTL,doLeftAndRightSwapInRTL:this.doLeftAndRightSwapInRTL};}},{key:"direction",get:function get(){return this.resolvedIsRTL?"rtl":"ltr";}},{key:"resolvedIsRTL",get:function get(){var isRTL=this.isRTL;if(!isRTL&&this.forceRTL){isRTL=true;}if(isRTL&&!this.doLeftAndRightSwapInRTL){isRTL=false;}return isRTL;}}]);return RCTI18nManager;}(_RCTModule2.default);RCTI18nManager.moduleName="RCTI18nManager";var _default=RCTI18nManager;exports.default=_default;
//# sourceMappingURL=RCTI18nManager.js.map