{"version":3,"sources":["../../../../ReactDom/modules/NativeAnimation/Nodes/RCTTrackingAnimatedNode.js"],"names":["RCTTrackingAnimatedNode","tag","config","animationId","toValueNodeTag","toValue","valueNodeTag","value","animationConfig","parent","manager","stopAnimation","parentNodes","node","startAnimatingNode","RCTAnimatedNode"],"mappings":"qsBAEA,4DAGA,oFACA,2E,GAEMA,CAAAA,uB,6FAMJ,iCAAYC,GAAZ,CAAyBC,MAAzB,CAAyC,sEACvC,mHAAMD,GAAN,CAAWC,MAAX,GAEA,MAAKC,WAAL,CAAmBD,MAAM,CAACC,WAA1B,CACA,MAAKC,cAAL,CAAsBF,MAAM,CAACG,OAA7B,CACA,MAAKC,YAAL,CAAoBJ,MAAM,CAACK,KAA3B,CACA,MAAKC,eAAL,CAAuBN,MAAM,CAACM,eAA9B,CANuC,aAOxC,C,+GAEkBC,M,CAAyB,CAC1C,KAAKC,OAAL,CAAaC,aAAb,CAA2B,KAAKR,WAAhC,EACA,uHAAyBM,MAAzB,EACD,C,qDAEe,CACd,mHAEA,GAAMG,CAAAA,WAAW,CAAG,KAAKA,WAAzB,CACA,uBAAUA,WAAV,4CAGA,GAAMC,CAAAA,IAA0B,CAAID,WAAW,CAAC,KAAKR,cAAN,CAA/C,CACA,KAAKI,eAAL,CAAqBH,OAArB,CAA+BQ,IAAI,CAACN,KAApC,CAEA,KAAKG,OAAL,CAAaI,kBAAb,CACE,KAAKX,WADP,CAEE,KAAKG,YAFP,CAGE,KAAKE,eAHP,CAIE,IAJF,EAMD,C,qCApCmCO,yB,eAuCvBf,uB","sourcesContent":["/** @flow */\n\nimport invariant from \"invariant\";\n\nimport type { Config } from \"RCTNativeAnimatedModule\";\nimport RCTValueAnimatedNode from \"RCTValueAnimatedNode\";\nimport RCTAnimatedNode from \"RCTAnimatedNode\";\n\nclass RCTTrackingAnimatedNode extends RCTAnimatedNode {\n  animationId: number;\n  toValueNodeTag: number;\n  valueNodeTag: number;\n  animationConfig: Object;\n\n  constructor(tag: number, config: Config) {\n    super(tag, config);\n\n    this.animationId = config.animationId;\n    this.toValueNodeTag = config.toValue;\n    this.valueNodeTag = config.value;\n    this.animationConfig = config.animationConfig;\n  }\n\n  onDetachedFromNode(parent: RCTAnimatedNode) {\n    this.manager.stopAnimation(this.animationId);\n    super.onDetachedFromNode(parent);\n  }\n\n  performUpdate() {\n    super.performUpdate();\n\n    const parentNodes = this.parentNodes;\n    invariant(parentNodes, `No parent nodes in TrackingAnimatedNode`);\n\n    // change animation config's \"toValue\" to reflect updated value of the parent node\n    const node: RCTValueAnimatedNode = (parentNodes[this.toValueNodeTag]: any);\n    this.animationConfig.toValue = node.value;\n\n    this.manager.startAnimatingNode(\n      this.animationId,\n      this.valueNodeTag,\n      this.animationConfig,\n      null\n    );\n  }\n}\n\nexport default RCTTrackingAnimatedNode;\n"],"file":"RCTTrackingAnimatedNode.js"}