var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf3=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _RCTNativeEventEmitter=_interopRequireDefault(require("./RCTNativeEventEmitter"));var hidden,visibilityChange;if(typeof document.hidden!=="undefined"){hidden="hidden";visibilityChange="visibilitychange";}else if(typeof document.msHidden!=="undefined"){hidden="msHidden";visibilityChange="msvisibilitychange";}else if(typeof document.webkitHidden!=="undefined"){hidden="webkitHidden";visibilityChange="webkitvisibilitychange";}var RCTAppState=function(_RCTEventEmitter){(0,_inherits2.default)(RCTAppState,_RCTEventEmitter);function RCTAppState(){var _getPrototypeOf2;var _this;(0,_classCallCheck2.default)(this,RCTAppState);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(RCTAppState)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.didUpdateVisibility=function(){_this.bridge.uiManager.requestTick();_this.sendEventWithName("appStateDidChange",{app_state:_this.currentBackgroundState()});};return _this;}(0,_createClass2.default)(RCTAppState,[{key:"startObserving",value:function startObserving(){document.addEventListener(visibilityChange,this.didUpdateVisibility,false);}},{key:"stopObserving",value:function stopObserving(){document.removeEventListener(visibilityChange,this.didUpdateVisibility,false);}},{key:"currentBackgroundState",value:function currentBackgroundState(){if(document[hidden]==null){return"unknown";}if(document[hidden]){return"background";}return"active";}},{key:"constantsToExport",value:function constantsToExport(){return{initialAppState:this.currentBackgroundState()};}},{key:"supportedEvents",value:function supportedEvents(){return["appStateDidChange"];}},{key:"$getCurrentAppState",value:function $getCurrentAppState(callbackId){this.bridge.callbackFromId(callbackId)({app_state:this.currentBackgroundState()});}}]);return RCTAppState;}(_RCTNativeEventEmitter.default);RCTAppState.moduleName="RCTAppState";var _default=RCTAppState;exports.default=_default;
//# sourceMappingURL=RCTAppState.js.map