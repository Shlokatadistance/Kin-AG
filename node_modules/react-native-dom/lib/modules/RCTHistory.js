var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _createHashHistory=_interopRequireDefault(require("history/createHashHistory"));var _queryString=_interopRequireDefault(require("query-string"));var _RCTNativeEventEmitter=_interopRequireDefault(require("./RCTNativeEventEmitter"));var _RCTModule=_interopRequireDefault(require("./../bridge/RCTModule"));var RCTHistory=function(_RCTEventEmitter){(0,_inherits2.default)(RCTHistory,_RCTEventEmitter);function RCTHistory(bridge){var _this;(0,_classCallCheck2.default)(this,RCTHistory);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(RCTHistory).call(this,bridge));_this.handleHistoryChange=function(location){_this.sendEventWithName("history",{location:location});};_this.history=(0,_createHashHistory.default)({basename:bridge.basename,hashType:"slash"});return _this;}(0,_createClass2.default)(RCTHistory,[{key:"startObserving",value:function startObserving(){this.unlisten=this.history.listen(this.handleHistoryChange);}},{key:"stopObserving",value:function stopObserving(){this.unlisten&&this.unlisten();}},{key:"supportedEvents",value:function supportedEvents(){return["history"];}},{key:"listen",value:function listen(cb){return this.history.listen(cb);}},{key:"$push",value:function $push(path){this.history.push(path);}},{key:"$goBack",value:function $goBack(){this.history.goBack();}},{key:"constantsToExport",value:function constantsToExport(){return{initialLocation:this.history.location};}},{key:"currentUrl",get:function get(){if(this.history){var _this$history$locatio=this.history.location,search=_this$history$locatio.search,pathname=_this$history$locatio.pathname,hash=_this$history$locatio.hash;return""+pathname+search+hash;}}}]);return RCTHistory;}(_RCTNativeEventEmitter.default);RCTHistory.moduleName="RCTHistory";var _default=RCTHistory;exports.default=_default;
//# sourceMappingURL=RCTHistory.js.map