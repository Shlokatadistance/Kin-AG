"use strict";function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n)}function detachNode(e){e.parentNode.removeChild(e)}function destroyEach(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function createElement(e){return document.createElement(e)}function createText(e){return document.createTextNode(e)}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setData(e,t){e.data=""+t}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire("destroy"),this.set=noop,this._fragment.d(!1!==e),this._fragment=null,this._state={}}function _differs(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var a=0;a<n.length;a+=1){var s=n[a];if(!s.__calling)try{s.__calling=!0,s.call(this,t)}finally{s.__calling=!1}}}function flush(e){e._lock=!0,callAll(e._beforecreate),callAll(e._oncreate),callAll(e._aftercreate),e._lock=!1}function get(){return this._state}function init(e,t){e._handlers=blankObject(),e._slots=blankObject(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function on(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||flush(this.root)}function _set(e){var t=this._state,n={},a=!1;for(var s in e=assign(this._staged,e),this._staged={},e)this._differs(e[s],t[s])&&(n[s]=a=!0);a&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))}function _stage(e){assign(this._staged,e)}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)}require("@babel/runtime/helpers/toConsumableArray"),require("@babel/runtime/helpers/defineProperty");var proto={destroy:destroy,get:get,fire:fire,on:on,set:set,_recompute:noop,_set:_set,_stage:_stage,_mount:_mount,_differs:_differs};function data(){return{message:"",stack:[]}}var methods={onStackFrame(e){this.dispatchEvent(new CustomEvent("stackframe",{detail:e}))},onDismiss(){this.dispatchEvent(new CustomEvent("dismiss"))},onReload(){this.dispatchEvent(new CustomEvent("reload"))},onCopy(){this.dispatchEvent(new CustomEvent("copy"))}};function create_main_fragment(e,t){for(var n,a,s,r,o,i,c,l,d,h,p,f,m,u=t.stack,g=[],_=0;_<u.length;_+=1)g[_]=create_each_block(e,get_each_context(t,u,_));function x(t){e.onDismiss()}function b(t){e.onReload()}function v(t){e.onCopy()}return{c(){n=createElement("div"),a=createElement("div"),s=createElement("div"),r=createText(t.message),o=createText("\n    "),i=createElement("div");for(var e=0;e<g.length;e+=1)g[e].c();c=createText("\n  "),l=createElement("div"),(d=createElement("button")).textContent="Dismiss",h=createText("\n    "),(p=createElement("button")).textContent="Reload JS",f=createText("\n    "),(m=createElement("button")).textContent="Copy",this.c=noop,s.className="message",i.className="stack",a.className="error",addListener(d,"click",x),d.className="button",addListener(p,"click",b),p.className="button",addListener(m,"click",v),m.className="button",l.className="buttons",n.className="redbox"},m(e,t){insert(e,n,t),append(n,a),append(a,s),append(s,r),append(a,o),append(a,i);for(var u=0;u<g.length;u+=1)g[u].m(i,null);append(n,c),append(n,l),append(l,d),append(l,h),append(l,p),append(l,f),append(l,m)},p(t,n){if(t.message&&setData(r,n.message),t.stack){u=n.stack;for(var a=0;a<u.length;a+=1){const s=get_each_context(n,u,a);g[a]?g[a].p(t,s):(g[a]=create_each_block(e,s),g[a].c(),g[a].m(i,null))}for(;a<g.length;a+=1)g[a].d(1);g.length=u.length}},d(e){e&&detachNode(n),destroyEach(g,e),removeListener(d,"click",x),removeListener(p,"click",b),removeListener(m,"click",v)}}}function create_each_block(e,t){var n,a,s,r,o,i,c,l,d,h,p=t.entry.methodName,f=t.entry.file,m=t.entry.lineNumber,u=t.entry.column;return{c(){n=createElement("button"),a=createElement("div"),s=createText(p),r=createText("\n          "),o=createElement("div"),i=createText(f),c=createText(":"),l=createText(m),d=createText(":"),h=createText(u),o.className="file",n._svelte={component:e,ctx:t},addListener(n,"click",click_handler),n.className="frame"},m(e,t){insert(e,n,t),append(n,a),append(a,s),append(n,r),append(n,o),append(o,i),append(o,c),append(o,l),append(o,d),append(o,h)},p(e,t){e.stack&&p!==(p=t.entry.methodName)&&setData(s,p),e.stack&&f!==(f=t.entry.file)&&setData(i,f),e.stack&&m!==(m=t.entry.lineNumber)&&setData(l,m),e.stack&&u!==(u=t.entry.column)&&setData(h,u),n._svelte.ctx=t},d(e){e&&detachNode(n),removeListener(n,"click",click_handler)}}}function get_each_context(e,t,n){const a=Object.create(e);return a.entry=t[n],a.each_value=t,a.entry_index=n,a}function click_handler(e){const{component:t,ctx:n}=this._svelte;t.onStackFrame(n.entry)}class Index extends HTMLElement{constructor(e={}){super(),init(this,e),this._state=assign(data(),e.data),this._intro=!0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="<style>:host{display:contents}.redbox{box-sizing:border-box;font-family:Arial, sans-serif;position:fixed;top:0px;left:0px;right:0px;bottom:0px;background:rgb(204, 0, 0);color:white;z-index:2147483647;text-align:left;font-size:16px;line-height:1.2;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;overflow:hidden}.error{padding-top:20px;padding-left:20px;padding-right:20px;padding-bottom:10px;flex:1;overflow:auto;overscroll-behavior:contain}.message{margin-top:10px;font-size:1.2em;white-space:pre-wrap}.stack{flex:1;margin-top:2em;display:flex;flex-direction:column}.frame{cursor:pointer;font-family:monospace;display:block;font-size:1em;color:white;text-align:left;padding-top:1em;padding-bottom:1em;background:none;border:none;transition:opacity 0.2s;flex-shrink:0}.frame:active{opacity:0.4}.file{font-size:0.8em;color:rgba(255, 255, 255, 0.7);word-break:break-all}.buttons{height:60px;display:flex;flex-direction:row;align-items:stretch}.button{cursor:pointer;font-size:1em;background:none;border:none;color:rgba(255, 255, 255, 0.7);flex:1}.button:active{color:rgba(255, 255, 255, 1)}</style>",this._fragment=create_main_fragment(this,this._state),this._fragment.c(),this._fragment.m(this.shadowRoot,null),e.target&&this._mount(e.target,e.anchor)}static get observedAttributes(){return["message","stack"]}get message(){return this.get().message}set message(e){this.set({message:e})}get stack(){return this.get().stack}set stack(e){this.set({stack:e})}attributeChangedCallback(e,t,n){this.set({[e]:n})}}assign(Index.prototype,proto),assign(Index.prototype,methods),assign(Index.prototype,{_mount(e,t){e.insertBefore(this,t)}}),customElements.define("rndom-redbox",Index),module.exports=Index;
//# sourceMappingURL=rndom-redbox.js.map
